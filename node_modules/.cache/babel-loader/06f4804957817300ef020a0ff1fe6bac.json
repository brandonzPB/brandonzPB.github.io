{"ast":null,"code":"var _jsxFileName = \"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/contexts/CreatureContext.js\";\nimport React, { useState, useReducer, useEffect, useContext, createContext } from 'react';\nimport creatureReducer from '../reducers/creatureReducer';\nimport * as objective from '../modules/objective';\nimport * as streakTime from '../modules/age';\nimport creatureService from '../services/creatureService';\nimport { UserContext } from './UserContext';\nexport const CreatureContext = createContext();\n\nconst CreatureContextProvider = props => {\n  const {\n    user,\n    userDispatch\n  } = useContext(UserContext);\n  const [creatures, dispatch] = useReducer(creatureReducer, user.creatures); //   const creatures = localStorage.getItem('my-user');\n  //   const storedCreatures = creatures ? JSON.parse(creatures) : [];\n  //   return storedCreatures.creatures;\n  // });\n\n  /* useEffect(() => {\n    console.log('creatures', creatures)\n     dispatch({ type: 'UPDATE_STATE', creatures: { creatures: user.creatures }});\n  }, [])\n   useEffect(() => {\n    userDispatch({ type: 'UPDATE_CREATURES', creatures: { creatures: user.creatures }});\n    localStorage.setItem('my-user', JSON.stringify(user));\n  }, [user.creatures]); */\n\n  /* const [creatures, dispatch] = useReducer(creatureReducer, [], () => {\n    const storedCreatures = localStorage.getItem('my-creatures');\n    return storedCreatures ? JSON.parse(storedCreatures) : [];\n  });\n   useEffect(() => {\n    localStorage.setItem('my-creatures', JSON.stringify(creatures));\n  }, [creatures]); */\n\n  const [currentId, setCurrentId] = useState('');\n  const [play, setPlay] = useState(false);\n  const [formDisplay, setFormDisplay] = useState(true);\n  const [expUpdate, setExpUpdate] = useState(false); // CREATE CREATURE\n\n  const createCreature = creatureObject => {\n    creatureService.createCreature(user.db_id, creatureObject, user.accessToken).then(res => res).catch(err => console.error(err));\n    console.log('Successfully added creature', creatureObject);\n  }; // UPDATE CREATURE STATS\n\n\n  const updateCreatureStats = async creatureId => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n    await creatureService.updateCreatureStats(user.db_id, creatureId, creature[0], user.accessToken).then(res => res).catch(err => console.error(err));\n    userDispatch({\n      type: 'UPDATE_CREATURE',\n      creature: {\n        exp: creature.exp,\n        exp_goal: creature.exp_goal,\n        exp_surplus: creature.exp_surplus,\n        prev_exp_goal: creature.prev_exp_goal,\n        difficulty: creature.difficulty,\n        multiplier: creature.multiplier,\n        pokeball_number: creature.pokeball_number\n      }\n    });\n    console.log('Successfully added creature');\n  }; /// OBJECTIVE METHODS ///\n\n\n  const checkObjectiveText = (creatureId, text) => {\n    const thisCreature = user.creatures.filter(being => being.id === creatureId);\n    const objectiveIndex = thisCreature[0].objectives.findIndex(item => item.text.toLowerCase() === text.toLowerCase());\n    return objectiveIndex >= 0 ? true : false;\n  }; // UPDATE CREATURE OBJECTIVES\n\n\n  const createObjective = async (creatureId, objective) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n    let objectives = creature[0].objectives;\n    objectives = objectives.push(objective);\n    await creatureService.createObjective(user.db_id, creature[0]._id, objectives, user.accessToken).then(res => res).catch(err => console.error(err));\n    console.log('Successfully added objective');\n  };\n\n  const deleteObjective = async (creatureId, objective) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n    await creatureService.deleteObjective(user.db_id, creature[0]._id, objective, user.accessToken).then(res => res).catch(err => console.error(err));\n    console.log('Successfully deleted objective');\n  }; // UPDATE CREATURE INFO\n\n\n  const updateCreatureInfo = async creatureId => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n    userDispatch({\n      type: 'UPDATE_CREATURE',\n      creature: {\n        creature_name: creature.creature_name,\n        evolutions: creature.evolutions\n      }\n    });\n    await creatureService.updateCreatureObjectives(user.db_id, creatureId, creature[0], user.accessToken).then(res => res).catch(err => console.error(err));\n    console.log('Successfully added creature');\n  }; // DELETE CREATURE\n\n\n  const deleteCreature = async creatureId => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n    userDispatch({\n      type: 'DELETE_CREATURE',\n      id: creatureId\n    });\n    await creatureService.deleteCreature(user.db_id, creature[0]._id, user.accessToken).then(res => res).catch(err => console.error(err));\n    console.log('Successfully deleted creature: ' + creature);\n  };\n\n  const getExp = (creature, habit, time) => {\n    if (creature.is_noob) return getFirstExp(creature);\n    const streakCount = creature.streak_count;\n    const newExp = objective.calcExp(creature.multiplier, streakCount, habit.difficulty, time);\n    const newTotal = creature.exp + newExp;\n    const newSurplus = newTotal >= creature.exp_goal ? newTotal - creature.exp_goal : creature.exp_surplus + newExp;\n    userDispatch({\n      type: 'ADD_EXP',\n      creature: {\n        id: creature.id,\n        newTotal,\n        newSurplus\n      }\n    });\n    return creature;\n  };\n\n  const getFirstExp = creature => {\n    const newTotal = 1;\n    const newSurplus = 0;\n    userDispatch({\n      type: 'ADD_EXP',\n      creature: {\n        id: creature.id,\n        newTotal,\n        newSurplus\n      }\n    });\n    return creature;\n  };\n\n  const toggleExpUpdate = () => {\n    setExpUpdate(!expUpdate);\n  };\n\n  const toggleFormDisplay = () => {\n    setFormDisplay(!formDisplay);\n  };\n\n  const showCreatureObjectives = async id => {\n    return setCurrentId(id);\n  };\n\n  const togglePlay = () => {\n    setPlay(!play);\n  };\n\n  return /*#__PURE__*/React.createElement(CreatureContext.Provider, {\n    value: {\n      creatures,\n      createCreature,\n      updateCreatureInfo,\n      updateCreatureStats,\n      createObjective,\n      deleteObjective,\n      deleteCreature,\n      currentId,\n      play,\n      togglePlay,\n      formDisplay,\n      toggleFormDisplay,\n      expUpdate,\n      toggleExpUpdate,\n      dispatch,\n      showCreatureObjectives,\n      getExp,\n      checkObjectiveText\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default CreatureContextProvider;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/contexts/CreatureContext.js"],"names":["React","useState","useReducer","useEffect","useContext","createContext","creatureReducer","objective","streakTime","creatureService","UserContext","CreatureContext","CreatureContextProvider","props","user","userDispatch","creatures","dispatch","currentId","setCurrentId","play","setPlay","formDisplay","setFormDisplay","expUpdate","setExpUpdate","createCreature","creatureObject","db_id","accessToken","then","res","catch","err","console","error","log","updateCreatureStats","creatureId","creature","filter","being","id","type","exp","exp_goal","exp_surplus","prev_exp_goal","difficulty","multiplier","pokeball_number","checkObjectiveText","text","thisCreature","objectiveIndex","objectives","findIndex","item","toLowerCase","createObjective","push","_id","deleteObjective","updateCreatureInfo","creature_name","evolutions","updateCreatureObjectives","deleteCreature","getExp","habit","time","is_noob","getFirstExp","streakCount","streak_count","newExp","calcExp","newTotal","newSurplus","toggleExpUpdate","toggleFormDisplay","showCreatureObjectives","togglePlay","children"],"mappings":"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","sourcesContent":["import React, { useState, useReducer, useEffect, useContext, createContext } from 'react';\nimport creatureReducer from '../reducers/creatureReducer';\nimport * as objective from '../modules/objective'\nimport * as streakTime from '../modules/age';\nimport creatureService from '../services/creatureService';\nimport { UserContext } from './UserContext';\n\nexport const CreatureContext = createContext();\n\nconst CreatureContextProvider = (props) => {\n  const { user, userDispatch } = useContext(UserContext);\n\n  const [creatures, dispatch] = useReducer(creatureReducer, user.creatures);\n  //   const creatures = localStorage.getItem('my-user');\n  //   const storedCreatures = creatures ? JSON.parse(creatures) : [];\n  //   return storedCreatures.creatures;\n  // });\n\n  /* useEffect(() => {\n    console.log('creatures', creatures)\n\n    dispatch({ type: 'UPDATE_STATE', creatures: { creatures: user.creatures }});\n  }, [])\n\n  useEffect(() => {\n    userDispatch({ type: 'UPDATE_CREATURES', creatures: { creatures: user.creatures }});\n    localStorage.setItem('my-user', JSON.stringify(user));\n  }, [user.creatures]); */\n\n  /* const [creatures, dispatch] = useReducer(creatureReducer, [], () => {\n    const storedCreatures = localStorage.getItem('my-creatures');\n    return storedCreatures ? JSON.parse(storedCreatures) : [];\n  });\n\n  useEffect(() => {\n    localStorage.setItem('my-creatures', JSON.stringify(creatures));\n  }, [creatures]); */\n\n  const [currentId, setCurrentId] = useState('');\n  const [play, setPlay] = useState(false);\n  const [formDisplay, setFormDisplay] = useState(true);\n  const [expUpdate, setExpUpdate] = useState(false);\n\n  // CREATE CREATURE\n  const createCreature = creatureObject => {\n    creatureService.createCreature(user.db_id, creatureObject, user.accessToken)\n      .then(res => res)\n      .catch(err => console.error(err));\n\n    console.log('Successfully added creature', creatureObject);\n  }\n\n  // UPDATE CREATURE STATS\n  const updateCreatureStats = async (creatureId) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n\n    await creatureService.updateCreatureStats(user.db_id, creatureId, creature[0], user.accessToken)\n      .then(res => res)\n      .catch(err => console.error(err));\n\n    userDispatch({ type: 'UPDATE_CREATURE', creature: {\n      exp: creature.exp,\n      exp_goal: creature.exp_goal,\n      exp_surplus: creature.exp_surplus,\n      prev_exp_goal: creature.prev_exp_goal,\n      difficulty: creature.difficulty,\n      multiplier: creature.multiplier,\n      pokeball_number: creature.pokeball_number,\n    }});\n\n    console.log('Successfully added creature');\n  }\n\n  /// OBJECTIVE METHODS ///\n\n  const checkObjectiveText = (creatureId, text) => {\n    const thisCreature = user.creatures.filter(being => being.id === creatureId);\n\n    const objectiveIndex = thisCreature[0].objectives.findIndex(item => item.text.toLowerCase() === text.toLowerCase());\n    return (objectiveIndex >= 0) ? true : false;\n  }\n\n  // UPDATE CREATURE OBJECTIVES\n  const createObjective = async (creatureId, objective) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n\n    let objectives = creature[0].objectives;\n\n    objectives = objectives.push(objective);\n\n    await creatureService.createObjective(user.db_id, creature[0]._id, objectives, user.accessToken)\n      .then(res => res)\n      .catch(err => console.error(err));\n\n    console.log('Successfully added objective');\n  }\n\n  const deleteObjective = async (creatureId, objective) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n\n    await creatureService.deleteObjective(user.db_id, creature[0]._id, objective, user.accessToken)\n      .then(res => res)\n      .catch(err => console.error(err));\n\n    console.log('Successfully deleted objective');\n  }\n\n  // UPDATE CREATURE INFO\n  const updateCreatureInfo = async (creatureId) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n\n    userDispatch({ type: 'UPDATE_CREATURE', creature: {\n      creature_name: creature.creature_name,\n      evolutions: creature.evolutions,\n    }});\n\n    await creatureService.updateCreatureObjectives(user.db_id, creatureId, creature[0], user.accessToken)\n      .then(res => res)\n      .catch(err => console.error(err));\n\n    console.log('Successfully added creature');\n  }\n\n  // DELETE CREATURE\n  const deleteCreature = async (creatureId) => {\n    const creature = user.creatures.filter(being => being.id === creatureId);\n\n    userDispatch({ type: 'DELETE_CREATURE', id: creatureId });\n\n    await creatureService.deleteCreature(user.db_id, creature[0]._id, user.accessToken)\n      .then(res => res)\n      .catch(err => console.error(err));\n\n    console.log('Successfully deleted creature: ' + creature);\n  }\n\n  const getExp = (creature, habit, time) => { \n    if (creature.is_noob) return getFirstExp(creature);\n\n    const streakCount = creature.streak_count;\n\n    const newExp = objective.calcExp(creature.multiplier, streakCount, habit.difficulty, time);\n    const newTotal = creature.exp + newExp;\n\n    const newSurplus = (newTotal >= creature.exp_goal) ? \n      newTotal - creature.exp_goal :\n      creature.exp_surplus + newExp;\n\n    userDispatch({ type: 'ADD_EXP', creature: {\n      id: creature.id,\n      newTotal,\n      newSurplus\n    }});\n\n    return creature;\n  }\n\n  const getFirstExp = creature => {\n    const newTotal = 1;\n    const newSurplus = 0;\n\n    userDispatch({ type: 'ADD_EXP', creature: { id: creature.id, newTotal, newSurplus } });\n\n    return creature;\n  }\n\n  const toggleExpUpdate = () => {\n    setExpUpdate(!expUpdate);\n  }\n\n  const toggleFormDisplay = () => {\n    setFormDisplay(!formDisplay);\n  }\n\n  const showCreatureObjectives = async (id) => {\n    return setCurrentId(id);\n  }\n\n  const togglePlay = () => {\n    setPlay(!play);\n  }\n\n  return (\n    <CreatureContext.Provider \n      value={{\n        creatures,\n        createCreature,\n        updateCreatureInfo,\n        updateCreatureStats,\n        createObjective,\n        deleteObjective,\n        deleteCreature, \n        currentId,\n        play,\n        togglePlay,\n        formDisplay,\n        toggleFormDisplay,\n        expUpdate,\n        toggleExpUpdate,\n        dispatch,\n        showCreatureObjectives,\n        getExp,\n        checkObjectiveText,\n      }}>\n      {props.children}\n    </CreatureContext.Provider>\n  )\n}\n\nexport default CreatureContextProvider;\n"]},"metadata":{},"sourceType":"module"}