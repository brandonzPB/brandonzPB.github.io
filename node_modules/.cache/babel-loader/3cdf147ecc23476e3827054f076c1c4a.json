{"ast":null,"code":"var _jsxFileName = \"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/creature/CreatureForm.js\";\nimport pokemon from 'pokemon';\nimport React, { useState, useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { CreatureContext } from '../../contexts/CreatureContext';\nimport { UserContext } from '../../contexts/UserContext';\nimport * as stats from '../../modules/stats';\nimport * as age from '../../modules/age';\nimport { Link } from 'react-router-dom';\nimport CreatureOption from './CreatureOption';\nimport { otherVersions } from '../../modules/pokemonList';\n\nconst CreatureForm = () => {\n  const {\n    creatures,\n    formDisplay,\n    toggleFormDisplay,\n    dispatch\n  } = useContext(CreatureContext);\n  const {\n    user\n  } = useContext(UserContext);\n  const pkmnArr = pokemon.all().sort((a, b) => {\n    return a > b ? 1 : a < b ? -1 : 0;\n  });\n  const OptionComponents = pkmnArr.map(creature => {\n    return /*#__PURE__*/React.createElement(CreatureOption, {\n      key: pokemon.getId(creature),\n      creature: creature,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }\n    });\n  });\n  const [creature, setCreature] = useState({\n    firstCreature: '',\n    firstMega: '',\n    secondCreature: '',\n    secondMega: '',\n    thirdCreature: '',\n    thirdMega: '',\n    fourthCreature: '',\n    fourthMega: '',\n    creatureName: '',\n    purpose: 'hobby',\n    purposeName: ''\n  });\n\n  const handleChange = event => {\n    const {\n      value,\n      name\n    } = event.target;\n    setCreature({ ...creature,\n      [name]: value\n    });\n  };\n\n  const getMegas = () => {\n    let inputs = ['first', 'second', 'third', 'fourth'];\n    let selectedVersions = [];\n    inputs.map(i => {\n      const versionInput = creature[`${i}Mega`].toLowerCase();\n      if (!creature[`${i}Mega`].trim()) return selectedVersions.push('normal');\n      const creatureName = i === 'first' ? creature.firstCreature : i === 'second' ? creature.secondCreature : i === 'third' ? creature.thirdCreature : creature.fourthCreature; // get pokemon info from those that have other versions\n\n      const pkmnInfo = otherVersions.filter(pkmn => pkmn.name === creatureName.toLowerCase());\n      if (!pkmnInfo[0].name) return selectedVersions.push('normal'); // check if versionInput exists in the pokemon's versions\n\n      const version = pkmnInfo[0].versions.filter(v => v === versionInput); // if it does, length of version is greater than 0\n\n      if (version.length > 0) {\n        return selectedVersions.push(version);\n      }\n\n      return selectedVersions.push('normal');\n    });\n    return selectedVersions;\n  };\n\n  const putMegas = megas => {\n    const evolutions = [];\n\n    for (let i = 0; i < megas.length; i++) {\n      const place = i === 0 ? 'first' : i === 1 ? 'second' : i === 2 ? 'third' : 'fourth';\n      const selectedVersion = megas[i] === 'normal' ? '' : megas[i] === 'none' ? '' : `-${megas[i]}`;\n      const creatureInput = place === 'first' ? 'firstCreature' : place === 'second' ? 'secondCreature' : place === 'third' ? 'thirdCreature' : 'fourthCreature';\n      const version = `${creature[creatureInput]}${selectedVersion}`;\n      evolutions.push(version.toLowerCase());\n    }\n\n    return evolutions;\n  };\n\n  const addCreature = event => {\n    event.preventDefault();\n    const difficulty = stats.getCreatureDifficulty(creature.purpose, 1);\n    const multiplier = stats.getExpMultiplier(1);\n    const megas = getMegas();\n    const evolutions = putMegas(megas).map(item => {\n      if (!item.trim()) {\n        return 'none';\n      }\n\n      return item;\n    });\n    console.log('evolutions', evolutions);\n    const birthdate = age.getBirthdate();\n    const birthTime = Date.now();\n    const pokeballNumber = 1;\n    dispatch({\n      type: 'ADD_CREATURE',\n      creature: {\n        creature: evolutions[0],\n        creatureName: creature.creatureName.trim() || 'Anonymous Creature',\n        purpose: creature.purpose,\n        purposeName: creature.purposeName.trim() || 'Base Existence',\n        evolutions: [...evolutions],\n        difficulty,\n        multiplier,\n        birthdate,\n        birthTime,\n        pokeballNumber\n      }\n    });\n    setCreature({ ...creature,\n      firstCreature: '',\n      firstMega: '',\n      secondCreature: '',\n      secondMega: '',\n      thirdCreature: '',\n      thirdMega: '',\n      fourthCreature: '',\n      fourthMega: '',\n      creatureName: '',\n      purpose: 'hobby',\n      purposeName: ''\n    });\n    toggleFormDisplay();\n  };\n  /* if (!user.accessToken) {\n    return (\n      <Route exact path=\"/creature/create\">\n        <Redirect to=\"/\" />\n      </Route>\n    )\n  } */\n\n\n  if (creatures.length === 6) {\n    return /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/creature/create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/creatures\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, !formDisplay ? /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/creature/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 49\n    }\n  }), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/creatures\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"return-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 35\n    }\n  }, \"Return Home\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: addCreature,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, \"Design Your Creature!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"evo-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"evo-label-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, \"Creature Evolution Line\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"label-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"mega-input-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, \"Choose an alternate version\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 23\n    }\n  }, \"*First: \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select-creature\",\n    onChange: handleChange,\n    name: \"firstCreature\",\n    required: true,\n    value: creature.firstCreature,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 25\n    }\n  }, \"Select a Creature\"), OptionComponents)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mega-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    disabled: otherVersions.findIndex(pkmn => pkmn.name === creature.firstCreature.toLowerCase()) < 0,\n    type: \"text\",\n    placeholder: \"none/mega/megaX/megaY\",\n    className: \"mega\",\n    name: \"firstMega\",\n    value: creature.firstMega,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 23\n    }\n  }, \"Second: \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select-creature\",\n    onChange: handleChange,\n    name: \"secondCreature\",\n    value: creature.secondCreature,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 25\n    }\n  }, \"Select a Creature\"), OptionComponents)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mega-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    disabled: otherVersions.findIndex(pkmn => pkmn.name === creature.secondCreature.toLowerCase()) < 0,\n    type: \"text\",\n    placeholder: \"none/mega/megaX/megaY\",\n    className: \"mega\",\n    name: \"secondMega\",\n    value: creature.secondMega,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 23\n    }\n  }, \"Third: \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select-creature\",\n    onChange: handleChange,\n    name: \"thirdCreature\",\n    value: creature.thirdCreature,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 25\n    }\n  }, \"Select a Creature\"), OptionComponents)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mega-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    disabled: otherVersions.findIndex(pkmn => pkmn.name === creature.thirdCreature.toLowerCase()) < 0,\n    type: \"text\",\n    placeholder: \"none/mega/megaX/megaY\",\n    className: \"mega\",\n    name: \"thirdMega\",\n    value: creature.thirdMega,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 23\n    }\n  }, \"Fourth: \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"creature-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select-creature\",\n    onChange: handleChange,\n    name: \"fourthCreature\",\n    value: creature.fourthCreature,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 25\n    }\n  }, \"Select a Creature\"), OptionComponents)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mega-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    disabled: otherVersions.findIndex(pkmn => pkmn.name === creature.fourthCreature.toLowerCase()) < 0,\n    type: \"text\",\n    placeholder: \"none/mega/megaX/megaY\",\n    className: \"mega\",\n    name: \"fourthMega\",\n    value: creature.fourthMega,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"purpose-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 19\n    }\n  }, \"Which area of your life does this creature represent?\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 19\n    }\n  }, \"Determines difficulty\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"purpose-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select-purpose\",\n    onChange: handleChange,\n    value: creature.purpose,\n    name: \"purpose\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"hobby\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 21\n    }\n  }, \"Hobby (Medium-Easy)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"communication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 21\n    }\n  }, \"Communication/Language (Medium)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"self-improvement\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }, \"Self-Improvement (Medium-Hard)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"vocation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 21\n    }\n  }, \"Vocation/Purpose (Hard)\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 19\n    }\n  }, \"What would you like to name this Creature of Habit?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Seneca\",\n    name: \"creatureName\",\n    value: creature.creatureName,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 19\n    }\n  }, \"What title would you like to give \", creature.creatureName, \"?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Stoic\",\n    name: \"purposeName\",\n    value: creature.purposeName,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-form-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 17\n    }\n  }, \"Create Creature\")))));\n};\n\nexport default CreatureForm;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/creature/CreatureForm.js"],"names":["pokemon","React","useState","useContext","Route","Redirect","CreatureContext","UserContext","stats","age","Link","CreatureOption","otherVersions","CreatureForm","creatures","formDisplay","toggleFormDisplay","dispatch","user","pkmnArr","all","sort","a","b","OptionComponents","map","creature","getId","setCreature","firstCreature","firstMega","secondCreature","secondMega","thirdCreature","thirdMega","fourthCreature","fourthMega","creatureName","purpose","purposeName","handleChange","event","value","name","target","getMegas","inputs","selectedVersions","i","versionInput","toLowerCase","trim","push","pkmnInfo","filter","pkmn","version","versions","v","length","putMegas","megas","evolutions","place","selectedVersion","creatureInput","addCreature","preventDefault","difficulty","getCreatureDifficulty","multiplier","getExpMultiplier","item","console","log","birthdate","getBirthdate","birthTime","Date","now","pokeballNumber","type","findIndex"],"mappings":"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","sourcesContent":["import pokemon from 'pokemon';\nimport React, { useState, useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { CreatureContext } from '../../contexts/CreatureContext';\nimport { UserContext } from '../../contexts/UserContext';\nimport * as stats from '../../modules/stats';\nimport * as age from '../../modules/age';\nimport { Link } from 'react-router-dom';\nimport CreatureOption from './CreatureOption';\nimport { otherVersions } from '../../modules/pokemonList';\n\nconst CreatureForm = () => {\n  const { creatures, formDisplay, toggleFormDisplay, dispatch } = useContext(CreatureContext);\n  const { user } = useContext(UserContext);\n\n  const pkmnArr = pokemon.all().sort((a, b) => {\n    return a > b ? 1 : \n      a < b ? -1 : 0;\n  });\n\n  const OptionComponents = pkmnArr.map(creature => {\n    return (\n      <CreatureOption \n        key={pokemon.getId(creature)}\n        creature={creature}\n      />\n    );\n  });\n\n  const [creature, setCreature] = useState({\n    firstCreature: '',\n    firstMega: '',\n    secondCreature: '',\n    secondMega: '',\n    thirdCreature: '',\n    thirdMega: '',\n    fourthCreature: '',\n    fourthMega: '',\n    creatureName: '',\n    purpose: 'hobby',\n    purposeName: ''\n  })\n\n  const handleChange = (event) => {\n    const { value, name } = event.target;\n\n    setCreature({\n      ...creature,\n      [name]: value\n    });\n  }\n\n  const getMegas = () => {\n    let inputs = ['first', 'second', 'third', 'fourth'];\n    let selectedVersions = [];\n\n    inputs.map(i => {\n      const versionInput = creature[`${i}Mega`].toLowerCase();\n\n      if (!creature[`${i}Mega`].trim()) return selectedVersions.push('normal');\n\n      const creatureName = i === 'first' ? creature.firstCreature\n          : i === 'second' ? creature.secondCreature\n          : i === 'third' ? creature.thirdCreature\n          : creature.fourthCreature;\n\n      // get pokemon info from those that have other versions\n      const pkmnInfo = otherVersions.filter(pkmn => pkmn.name === creatureName.toLowerCase());\n\n      if (!pkmnInfo[0].name) return selectedVersions.push('normal');\n      \n      // check if versionInput exists in the pokemon's versions\n      const version = pkmnInfo[0].versions.filter(v => v === versionInput);\n\n      // if it does, length of version is greater than 0\n      if (version.length > 0) {\n        return selectedVersions.push(version);\n      }\n\n      return selectedVersions.push('normal');\n    });\n\n    return selectedVersions;\n  }\n\n  const putMegas = megas => {\n    const evolutions = [];\n\n    for (let i = 0; i < megas.length; i++) {\n      const place = i === 0 ? 'first' :\n        i === 1 ? 'second' :\n        i === 2 ? 'third' :\n        'fourth';\n\n      const selectedVersion = megas[i] === 'normal' ? ''\n        : megas[i] === 'none' ? '' \n        : `-${megas[i]}`;\n\n      const creatureInput = place === 'first' ? 'firstCreature'\n        : place === 'second' ? 'secondCreature'\n        : place === 'third' ? 'thirdCreature'\n        : 'fourthCreature';\n\n      const version = `${creature[creatureInput]}${selectedVersion}`;\n\n      evolutions.push(version.toLowerCase());\n    }\n\n    return evolutions;\n  }\n\n  const addCreature = (event) => {\n    event.preventDefault();\n\n    const difficulty = stats.getCreatureDifficulty(creature.purpose, 1);\n    const multiplier = stats.getExpMultiplier(1);\n\n    const megas = getMegas();\n \n    const evolutions = putMegas(megas).map(item => {\n      if (!item.trim()) {\n        return 'none';\n      }\n\n      return item;\n    });\n\n    console.log('evolutions', evolutions);\n\n    const birthdate = age.getBirthdate();\n\n    const birthTime = Date.now();\n\n    const pokeballNumber = 1;\n\n    dispatch({type: 'ADD_CREATURE', creature: {\n      creature: evolutions[0],\n      creatureName: creature.creatureName.trim() || 'Anonymous Creature',\n      purpose: creature.purpose,\n      purposeName: creature.purposeName.trim() || 'Base Existence',\n      evolutions: [...evolutions],\n      difficulty,\n      multiplier,\n      birthdate,\n      birthTime,\n      pokeballNumber\n    }});\n    \n    setCreature({\n      ...creature,\n      firstCreature: '',\n      firstMega: '',\n      secondCreature: '',\n      secondMega: '',\n      thirdCreature: '',\n      thirdMega: '',\n      fourthCreature: '',\n      fourthMega: '',\n      creatureName: '',\n      purpose: 'hobby',\n      purposeName: ''\n    });\n\n    toggleFormDisplay();\n  }\n  \n  /* if (!user.accessToken) {\n    return (\n      <Route exact path=\"/creature/create\">\n        <Redirect to=\"/\" />\n      </Route>\n    )\n  } */\n  \n  if (creatures.length === 6) {\n    return (\n      <Route exact path=\"/creature/create\">\n        <Redirect to=\"/creatures\" />\n      </Route>\n    )\n  }\n\n  return (\n    <div className=\"create-page\">\n      {\n        !formDisplay ? \n          <Route exact path=\"/creature/create\"> <Redirect to=\"/\" /> </Route> :\n          <div className=\"creature-form-container\">\n            <Link to=\"/creatures\"><button className=\"return-btn\">Return Home</button></Link>\n            \n            <div className=\"creature-form\">\n              <form onSubmit={addCreature}>\n                <h2 className=\"form-title\">Design Your Creature!</h2>\n\n                <div className=\"evo-label\">\n                  <label className=\"evo-label-text\">Creature Evolution Line</label>\n                </div>\n\n                <div className=\"label-container\">\n                  <label className=\"mega-input-text\">Choose an alternate version</label>\n                </div>\n\n                <div className=\"creature-inputs\">\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>*First: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"firstCreature\"\n                        required={true}\n                        value={creature.firstCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                        <input \n                          disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.firstCreature.toLowerCase()) < 0 }\n                          type=\"text\"\n                          placeholder=\"none/mega/megaX/megaY\"\n                          className=\"mega\"\n                          name=\"firstMega\"\n                          value={creature.firstMega}\n                          onChange={handleChange}\n                        />\n                    </div>\n                  </div>\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>Second: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"secondCreature\"\n                        value={creature.secondCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                      <input \n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.secondCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"secondMega\"\n                        value={creature.secondMega}\n                        onChange={handleChange}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>Third: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"thirdCreature\"\n                        value={creature.thirdCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                      <input\n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.thirdCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"thirdMega\"\n                        value={creature.thirdMega}\n                        onChange={handleChange}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>Fourth: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"fourthCreature\"\n                        value={creature.fourthCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                      <input \n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.fourthCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"fourthMega\"\n                        value={creature.fourthMega}\n                        onChange={handleChange}\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"purpose-label\">\n                  <label>Which area of your life does this creature represent?</label>\n                  <span className=\"info\">Determines difficulty</span>\n                </div>\n                <div className=\"purpose-select\">\n                  <select className=\"select-purpose\" onChange={handleChange} value={creature.purpose} name=\"purpose\">\n                    <option value=\"hobby\">Hobby (Medium-Easy)</option>\n                    <option value=\"communication\">Communication/Language (Medium)</option>\n                    <option value=\"self-improvement\">Self-Improvement (Medium-Hard)</option>\n                    <option value=\"vocation\">Vocation/Purpose (Hard)</option>\n                  </select>\n                </div>\n\n                <div className=\"name-label\">\n                  <label>What would you like to name this Creature of Habit?</label>\n                </div>\n                <div className=\"name-input\">\n                  <input \n                    type=\"text\"\n                    placeholder=\"Seneca\"\n                    name=\"creatureName\"\n                    value={creature.creatureName}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"title-label\">\n                  <label>What title would you like to give {creature.creatureName}?</label>\n                </div>\n                <div className=\"title-input\">\n                  <input \n                    type=\"text\"\n                    placeholder=\"Stoic\"\n                    name=\"purposeName\"\n                    value={creature.purposeName}\n                    onChange={handleChange}\n                  />\n                </div>\n                <button className=\"submit-form-btn\">Create Creature</button>\n              </form>\n            </div>\n          </div>\n      }\n    </div>\n  )\n}\n\nexport default CreatureForm;\n"]},"metadata":{},"sourceType":"module"}