{"ast":null,"code":"import _defineProperty from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{CreatureContext}from'../../contexts/CreatureContext';import{UserContext}from'../../contexts/UserContext';import{v4 as uuidv4}from'uuid';import*as obj from'../../modules/objective';var ObjectiveForm=function ObjectiveForm(_ref){var creatureId=_ref.creatureId;var _useContext=useContext(CreatureContext),checkObjectiveText=_useContext.checkObjectiveText,currentId=_useContext.currentId,finish=_useContext.finish;var _useContext2=useContext(UserContext),userDispatch=_useContext2.userDispatch;var _useState=useState({id:'',text:'',is_timed:false,difficulty:'Medium-Easy',factor:''}),_useState2=_slicedToArray(_useState,2),objective=_useState2[0],setObjective=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value,type=_event$target.type,checked=_event$target.checked;type==='checkbox'?setObjective(_objectSpread(_objectSpread({},objective),{},{is_timed:checked})):setObjective(_objectSpread(_objectSpread({},objective),{},_defineProperty({},name,value)));};var addObjective=function addObjective(event){event.preventDefault();if(!objective.text.trim())return;var objectiveExists=checkObjectiveText(creatureId,objective.text);if(objectiveExists)return;// error message\nvar factor=obj.getDifficultyFactor(objective.difficulty);userDispatch({type:'ADD_OBJECTIVE',id:currentId,objective:{id:uuidv4(),text:objective.text,is_timed:objective.is_timed,difficulty:objective.difficulty,factor:factor}});finish('objective');setObjective({id:uuidv4(),text:'',is_timed:false,difficulty:'Medium-Easy',factor:''});};return/*#__PURE__*/React.createElement(\"div\",{className:\"objective-form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:addObjective},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"text\",value:objective.text,onChange:handleChange,minLength:0,maxLength:40,placeholder:\"Morning Cardio\",className:\"obj-text-input\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:\"isTimed\",checked:objective.isTimed,onChange:handleChange,className:\"obj-time-input\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"obj-time-input-text\"},\"Time-Based\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"obj-difficulty-select-text\"},\"Select Difficulty\"),/*#__PURE__*/React.createElement(\"select\",{value:objective.difficulty,onChange:handleChange,name:\"difficulty\",className:\"obj-difficulty-select\"},/*#__PURE__*/React.createElement(\"option\",{disabled:true},\"Select a Difficulty\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Medium-Easy\"},\"Medium-Easy\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Medium\"},\"Medium\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Medium-Hard\"},\"Medium-Hard\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Hard\"},\"Hard\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"add-obj-btn\"},\"Add Habit\")));};export default ObjectiveForm;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/objective/ObjectiveForm.js"],"names":["React","useState","useContext","CreatureContext","UserContext","v4","uuidv4","obj","ObjectiveForm","creatureId","checkObjectiveText","currentId","finish","userDispatch","id","text","is_timed","difficulty","factor","objective","setObjective","handleChange","event","target","name","value","type","checked","addObjective","preventDefault","trim","objectiveExists","getDifficultyFactor","isTimed"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { CreatureContext } from '../../contexts/CreatureContext';\nimport { UserContext } from '../../contexts/UserContext';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as obj from '../../modules/objective';\n\nconst ObjectiveForm = ({ creatureId }) => {\n  const { checkObjectiveText, currentId, finish } = useContext(CreatureContext);\n  const { userDispatch } = useContext(UserContext);\n  \n  const [objective, setObjective] = useState({\n    id: '',\n    text: '',\n    is_timed: false,\n    difficulty: 'Medium-Easy',\n    factor: '',\n  });\n\n  const handleChange = (event) => {\n    const { name, value, type, checked } = event.target;\n\n    type === 'checkbox' ?\n      setObjective({\n        ...objective,\n        is_timed: checked\n      }) :\n      setObjective({\n        ...objective,\n        [name]: value\n      });\n  }\n\n  const addObjective = (event) => {\n    event.preventDefault();\n\n    if (!objective.text.trim()) return;\n    const objectiveExists = checkObjectiveText(creatureId, objective.text);\n    if (objectiveExists) return;\n    // error message\n\n    const factor = obj.getDifficultyFactor(objective.difficulty);\n\n    userDispatch({ type: 'ADD_OBJECTIVE',\n      id: currentId,\n      objective: {\n        id: uuidv4(),\n        text: objective.text,\n        is_timed: objective.is_timed,\n        difficulty: objective.difficulty,\n        factor\n      }\n    });\n\n    finish('objective');\n    \n    setObjective({\n      id: uuidv4(),\n      text: '',\n      is_timed: false,\n      difficulty: 'Medium-Easy',\n      factor: '',\n    });\n  }\n\n  return (\n    <div className=\"objective-form\">\n      <form onSubmit={addObjective}>\n        <input \n          type=\"text\"\n          name=\"text\"\n          value={objective.text}\n          onChange={handleChange}\n          minLength={0}\n          maxLength={40}\n          placeholder=\"Morning Cardio\"\n          className=\"obj-text-input\"\n        />\n        <br />\n        <input \n          type=\"checkbox\"\n          name=\"isTimed\"\n          checked={objective.isTimed}\n          onChange={handleChange}\n          className=\"obj-time-input\"\n        /> \n        <span className=\"obj-time-input-text\">Time-Based</span>\n        <br />\n        <span className=\"obj-difficulty-select-text\">Select Difficulty</span>\n        <select value={objective.difficulty} onChange={handleChange} name=\"difficulty\" className=\"obj-difficulty-select\">\n          <option disabled>Select a Difficulty</option>\n          <option value=\"Medium-Easy\">Medium-Easy</option>\n          <option value=\"Medium\">Medium</option>\n          <option value=\"Medium-Hard\">Medium-Hard</option>\n          <option value=\"Hard\">Hard</option>\n        </select>\n        <br />\n        <button className=\"add-obj-btn\">Add Habit</button>\n      </form>\n    </div>\n  )\n}\n\nexport default ObjectiveForm;\n"]},"metadata":{},"sourceType":"module"}