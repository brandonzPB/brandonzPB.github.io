{"ast":null,"code":"import _toConsumableArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,Route,Redirect}from'react-router-dom';import{CreatureContext}from'../../contexts/CreatureContext';import{UserContext}from'../../contexts/UserContext';import*as stats from'../../modules/stats';import*as age from'../../modules/age';import*as megaMethods from'../../modules/megas';import{otherVersions}from'../../modules/pokemonList';import CreatureOption from'./CreatureOption';import{v4 as uuidv4}from'uuid';import pokemon from'pokemon';var CreatureForm=function CreatureForm(){var _useContext=useContext(CreatureContext),formDisplay=_useContext.formDisplay,toggleFormDisplay=_useContext.toggleFormDisplay,finish=_useContext.finish;var _useContext2=useContext(UserContext),user=_useContext2.user,userDispatch=_useContext2.userDispatch;var pkmnArr=pokemon.all().sort(function(a,b){return a>b?1:a<b?-1:0;});var OptionComponents=pkmnArr.map(function(creature){return/*#__PURE__*/React.createElement(CreatureOption,{key:pokemon.getId(creature),creature:creature});});var _useState=useState({firstCreature:'',firstMega:'',secondCreature:'',secondMega:'',thirdCreature:'',thirdMega:'',fourthCreature:'',fourthMega:'',creatureName:'',purpose:'hobby',purposeName:''}),_useState2=_slicedToArray(_useState,2),creature=_useState2[0],setCreature=_useState2[1];if(!user.accessToken){return/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/creature/create\"},/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}));}var handleChange=function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name,className=_event$target.className;if(className==='select-creature'){var _objectSpread2;var megaPlace;if(name==='firstCreature'){megaPlace='firstMega';}else if(name==='secondCreature'){megaPlace='secondMega';}else if(name==='thirdCreature'){megaPlace='thirdMega';}else{megaPlace='fourthMega';}setCreature(_objectSpread(_objectSpread({},creature),{},(_objectSpread2={},_defineProperty(_objectSpread2,megaPlace,''),_defineProperty(_objectSpread2,name,value),_objectSpread2)));}else{setCreature(_objectSpread(_objectSpread({},creature),{},_defineProperty({},name,value)));}};var addCreature=function addCreature(event){event.preventDefault();var difficulty=stats.getCreatureDifficulty(creature.purpose,1);var multiplier=stats.getExpMultiplier(1);var megas=megaMethods.getMegas(creature);var evolutions=megaMethods.putMegas(creature,megas).map(function(item){if(!item.trim()){return'none';}return item;});console.log('evolutions',evolutions);var newCreature={creature:evolutions[0],creature_name:creature.creatureName.trim()||'Anonymous Creature',purpose:creature.purpose,purpose_name:creature.purposeName.trim()||'Base Existence',evolutions:_toConsumableArray(evolutions),difficulty:difficulty,multiplier:multiplier,birth_date:age.getBirthdate(),birth_time:Date.now(),pokeball_number:1,id:uuidv4(),level:1,exp:0,exp_goal:1,prev_exp_goal:1,exp_surplus:0,objectives:[],age:0,is_noob:true,streak_count:0,streak_timestamp:Date.now(),streak_day:new Date().getDay()};userDispatch({type:'ADD_CREATURE',creature:{creature:evolutions[0],creature_name:creature.creatureName.trim()||'Anonymous Creature',purpose:creature.purpose,purpose_name:creature.purposeName.trim()||'Base Existence',evolutions:_toConsumableArray(evolutions),difficulty:difficulty,multiplier:multiplier,birth_date:age.getBirthdate(),birth_time:Date.now(),pokeball_number:1,id:uuidv4()}});setCreature(_objectSpread(_objectSpread({},creature),{},{firstCreature:'',firstMega:'',secondCreature:'',secondMega:'',thirdCreature:'',thirdMega:'',fourthCreature:'',fourthMega:'',creatureName:'',purpose:'hobby',purposeName:''}));finish('creature',newCreature,'create');toggleFormDisplay();};if(user.creatures.length===6){return/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/creature/create\"},/*#__PURE__*/React.createElement(Redirect,{to:\"/creatures\"}));}return/*#__PURE__*/React.createElement(\"div\",{className:\"create-page\"},!formDisplay?/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/creature/create\"},\" \",/*#__PURE__*/React.createElement(Redirect,{to:\"/creatures\"}),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"creature-form-container\"},/*#__PURE__*/React.createElement(Link,{to:\"/creatures\"},/*#__PURE__*/React.createElement(\"p\",{className:\"creatures-return-link\"},\"Return to Creatures\")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:addCreature},/*#__PURE__*/React.createElement(\"h2\",{className:\"form-title\"},\"Design Your Creature!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"evo-label\"},/*#__PURE__*/React.createElement(\"label\",{className:\"evo-label-text\"},\"Creature Evolution Line\")),/*#__PURE__*/React.createElement(\"div\",{className:\"label-container\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mega-input-text\"},\"Choose an alternate version\")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-inputs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"*First: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"firstCreature\",required:true,value:creature.firstCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.firstCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"firstMega\",value:creature.firstMega,onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Second: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"secondCreature\",value:creature.secondCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.secondCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"secondMega\",value:creature.secondMega,onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Third: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"thirdCreature\",value:creature.thirdCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.thirdCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"thirdMega\",value:creature.thirdMega,onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Fourth: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"fourthCreature\",value:creature.fourthCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.fourthCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"fourthMega\",value:creature.fourthMega,onChange:handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"purpose-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Which area of your life does this creature represent?\"),/*#__PURE__*/React.createElement(\"span\",{className:\"info\"},\"Determines difficulty\")),/*#__PURE__*/React.createElement(\"div\",{className:\"purpose-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-purpose\",onChange:handleChange,value:creature.purpose,name:\"purpose\"},/*#__PURE__*/React.createElement(\"option\",{value:\"hobby\"},\"Hobby (Medium-Easy)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"communication\"},\"Communication/Language (Medium)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"self-improvement\"},\"Self-Improvement (Medium-Hard)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"vocation\"},\"Vocation/Purpose (Hard)\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"name-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"What would you like to name this Creature of Habit?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"name-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Seneca\",name:\"creatureName\",value:creature.creatureName,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"title-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"What title would you like to give \",creature.creatureName,\"?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"title-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Stoic\",name:\"purposeName\",value:creature.purposeName,onChange:handleChange})),/*#__PURE__*/React.createElement(\"button\",{className:\"submit-form-btn\"},\"Create Creature\")))));};export default CreatureForm;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/creature/CreatureForm.js"],"names":["React","useState","useContext","Link","Route","Redirect","CreatureContext","UserContext","stats","age","megaMethods","otherVersions","CreatureOption","v4","uuidv4","pokemon","CreatureForm","formDisplay","toggleFormDisplay","finish","user","userDispatch","pkmnArr","all","sort","a","b","OptionComponents","map","creature","getId","firstCreature","firstMega","secondCreature","secondMega","thirdCreature","thirdMega","fourthCreature","fourthMega","creatureName","purpose","purposeName","setCreature","accessToken","handleChange","event","target","value","name","className","megaPlace","addCreature","preventDefault","difficulty","getCreatureDifficulty","multiplier","getExpMultiplier","megas","getMegas","evolutions","putMegas","item","trim","console","log","newCreature","creature_name","purpose_name","birth_date","getBirthdate","birth_time","Date","now","pokeball_number","id","level","exp","exp_goal","prev_exp_goal","exp_surplus","objectives","is_noob","streak_count","streak_timestamp","streak_day","getDay","type","creatures","length","findIndex","pkmn","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Link, Route, Redirect } from 'react-router-dom';\n\nimport { CreatureContext } from '../../contexts/CreatureContext';\nimport { UserContext } from '../../contexts/UserContext';\n\nimport * as stats from '../../modules/stats';\nimport * as age from '../../modules/age';\nimport * as megaMethods from '../../modules/megas';\nimport { otherVersions } from '../../modules/pokemonList';\n\nimport CreatureOption from './CreatureOption';\n\nimport { v4 as uuidv4 } from 'uuid';\nimport pokemon from 'pokemon';\n\n\nconst CreatureForm = () => {\n  const { formDisplay, toggleFormDisplay, finish } = useContext(CreatureContext);\n  const { user, userDispatch } = useContext(UserContext);\n\n  const pkmnArr = pokemon.all().sort((a, b) => {\n    return a > b ? 1 : \n      a < b ? -1 : 0;\n  });\n\n  const OptionComponents = pkmnArr.map(creature => {\n    return (\n      <CreatureOption \n        key={pokemon.getId(creature)}\n        creature={creature}\n      />\n    );\n  });\n\n  const [creature, setCreature] = useState({\n    firstCreature: '',\n    firstMega: '',\n    secondCreature: '',\n    secondMega: '',\n    thirdCreature: '',\n    thirdMega: '',\n    fourthCreature: '',\n    fourthMega: '',\n    creatureName: '',\n    purpose: 'hobby',\n    purposeName: ''\n  });\n  \n  if (!user.accessToken) {\n    return (\n      <Route exact path=\"/creature/create\">\n        <Redirect to=\"/\" />\n      </Route>\n    )\n  }\n\n  const handleChange = (event) => {\n    const { value, name, className } = event.target;\n\n    if (className === 'select-creature') {\n      let megaPlace;\n\n      if (name === 'firstCreature') {\n        megaPlace = 'firstMega';\n      } else if (name === 'secondCreature') {\n        megaPlace = 'secondMega';\n      } else if (name === 'thirdCreature') {\n        megaPlace = 'thirdMega';\n      } else {\n        megaPlace = 'fourthMega';\n      }\n\n      setCreature({\n        ...creature,\n        [megaPlace]: '',\n        [name]: value\n      });\n    } else {\n      setCreature({\n        ...creature,\n        [name]: value\n      });\n    }\n  }\n\n  const addCreature = (event) => {\n    event.preventDefault();\n\n    const difficulty = stats.getCreatureDifficulty(creature.purpose, 1);\n    const multiplier = stats.getExpMultiplier(1);\n\n    const megas = megaMethods.getMegas(creature);\n \n    const evolutions = megaMethods.putMegas(creature, megas).map(item => {\n      if (!item.trim()) { return 'none'; }\n\n      return item;\n    });\n\n    console.log('evolutions', evolutions);\n\n    const newCreature = {\n      creature: evolutions[0],\n      creature_name: creature.creatureName.trim() || 'Anonymous Creature',\n      purpose: creature.purpose,\n      purpose_name: creature.purposeName.trim() || 'Base Existence',\n      evolutions: [...evolutions],\n      difficulty,\n      multiplier,\n      birth_date: age.getBirthdate(),\n      birth_time: Date.now(),\n      pokeball_number: 1,\n      id: uuidv4(),\n      level: 1,\n      exp: 0,\n      exp_goal: 1,\n      prev_exp_goal: 1,\n      exp_surplus: 0,\n      objectives: [],\n      age: 0,\n      is_noob: true,\n      streak_count: 0,\n      streak_timestamp: Date.now(),\n      streak_day: (new Date()).getDay()\n    }\n\n    userDispatch({type: 'ADD_CREATURE', creature: {\n      creature: evolutions[0],\n      creature_name: creature.creatureName.trim() || 'Anonymous Creature',\n      purpose: creature.purpose,\n      purpose_name: creature.purposeName.trim() || 'Base Existence',\n      evolutions: [...evolutions],\n      difficulty,\n      multiplier,\n      birth_date: age.getBirthdate(),\n      birth_time: Date.now(),\n      pokeball_number: 1,\n      id: uuidv4(),\n    }});\n    \n    setCreature({\n      ...creature,\n      firstCreature: '',\n      firstMega: '',\n      secondCreature: '',\n      secondMega: '',\n      thirdCreature: '',\n      thirdMega: '',\n      fourthCreature: '',\n      fourthMega: '',\n      creatureName: '',\n      purpose: 'hobby',\n      purposeName: ''\n    });\n\n    finish('creature', newCreature, 'create');\n\n    toggleFormDisplay();\n  }\n  \n  if (user.creatures.length === 6) {\n    return (\n      <Route exact path=\"/creature/create\">\n        <Redirect to=\"/creatures\" />\n      </Route>\n    )\n  }\n\n  return (\n    <div className=\"create-page\">\n      {\n        !formDisplay ? \n          <Route exact path=\"/creature/create\"> <Redirect to=\"/creatures\" /> </Route> :\n          <div className=\"creature-form-container\">\n            <Link to=\"/creatures\">\n              <p className=\"creatures-return-link\">Return to Creatures</p>\n            </Link>\n            \n            <div className=\"creature-form\">\n              <form onSubmit={addCreature}>\n                <h2 className=\"form-title\">Design Your Creature!</h2>\n\n                <div className=\"evo-label\">\n                  <label className=\"evo-label-text\">Creature Evolution Line</label>\n                </div>\n\n                <div className=\"label-container\">\n                  <label className=\"mega-input-text\">Choose an alternate version</label>\n                </div>\n\n                <div className=\"creature-inputs\">\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>*First: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"firstCreature\"\n                        required={true}\n                        value={creature.firstCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                        <input \n                          disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.firstCreature.toLowerCase()) < 0 }\n                          type=\"text\"\n                          placeholder=\"none/mega/megaX/megaY\"\n                          className=\"mega\"\n                          name=\"firstMega\"\n                          value={creature.firstMega}\n                          onChange={handleChange}\n                        />\n                    </div>\n                  </div>\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>Second: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"secondCreature\"\n                        value={creature.secondCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                      <input \n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.secondCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"secondMega\"\n                        value={creature.secondMega}\n                        onChange={handleChange}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>Third: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"thirdCreature\"\n                        value={creature.thirdCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                      <input\n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.thirdCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"thirdMega\"\n                        value={creature.thirdMega}\n                        onChange={handleChange}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"creature-input\">\n                    <div className=\"creature-label\">\n                      <label>Fourth: </label>\n                    </div>\n\n                    <div className=\"creature-select\">\n                      <select\n                        className=\"select-creature\"\n                        onChange={handleChange}\n                        name=\"fourthCreature\"\n                        value={creature.fourthCreature}\n                      >\n                        <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                        {OptionComponents}\n                      </select>\n                    </div>\n\n                    <div className=\"mega-input\">\n                      <input \n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.fourthCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"fourthMega\"\n                        value={creature.fourthMega}\n                        onChange={handleChange}\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"purpose-label\">\n                  <label>Which area of your life does this creature represent?</label>\n                  <span className=\"info\">Determines difficulty</span>\n                </div>\n                <div className=\"purpose-select\">\n                  <select className=\"select-purpose\" onChange={handleChange} value={creature.purpose} name=\"purpose\">\n                    <option value=\"hobby\">Hobby (Medium-Easy)</option>\n                    <option value=\"communication\">Communication/Language (Medium)</option>\n                    <option value=\"self-improvement\">Self-Improvement (Medium-Hard)</option>\n                    <option value=\"vocation\">Vocation/Purpose (Hard)</option>\n                  </select>\n                </div>\n\n                <div className=\"name-label\">\n                  <label>What would you like to name this Creature of Habit?</label>\n                </div>\n                <div className=\"name-input\">\n                  <input \n                    type=\"text\"\n                    placeholder=\"Seneca\"\n                    name=\"creatureName\"\n                    value={creature.creatureName}\n                    onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"title-label\">\n                  <label>What title would you like to give {creature.creatureName}?</label>\n                </div>\n                <div className=\"title-input\">\n                  <input \n                    type=\"text\"\n                    placeholder=\"Stoic\"\n                    name=\"purposeName\"\n                    value={creature.purposeName}\n                    onChange={handleChange}\n                  />\n                </div>\n                <button className=\"submit-form-btn\">Create Creature</button>\n              </form>\n            </div>\n          </div>\n      }\n    </div>\n  )\n}\n\nexport default CreatureForm;\n"]},"metadata":{},"sourceType":"module"}