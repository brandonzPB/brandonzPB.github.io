{"ast":null,"code":"import _slicedToArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{CreatureContext}from'../../contexts/CreatureContext';var ObjectiveCompleteForm=function ObjectiveCompleteForm(_ref){var creature=_ref.creature,objective=_ref.objective;var _useContext=useContext(CreatureContext),getExp=_useContext.getExp,play=_useContext.play,togglePlay=_useContext.togglePlay,expUpdate=_useContext.expUpdate,toggleExpUpdate=_useContext.toggleExpUpdate,finish=_useContext.finish;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];var handleChange=function handleChange(event){setTime(event.target.value);};var completeObjective=function completeObjective(event){event.preventDefault();if(!play)togglePlay();if(!expUpdate)toggleExpUpdate();console.log('completing objective');if(!objective.is_timed){getExp(objective,1);finish('creature',creature,'stats');return togglePlay();}getExp(creature,objective,time);finish('creature',creature,'stats');togglePlay();setTime(0);};if(objective.is_timed){return/*#__PURE__*/React.createElement(\"div\",{className:\"complete-obj-container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:completeObjective,className:\"complete-obj-form\"},/*#__PURE__*/React.createElement(\"label\",{className:\"time-text\"},\"Time (hrs)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"time\",value:time,min:0.25,max:24,step:0.25,onChange:handleChange,className:\"time-input\",placeholder:0}),/*#__PURE__*/React.createElement(\"button\",{className:\"complete-obj-btn\"},\"Complete Habit\")));}return/*#__PURE__*/React.createElement(\"div\",{className:\"complete-obj-container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:completeObjective,className:\"complete-obj-form\"},/*#__PURE__*/React.createElement(\"button\",{className:\"complete-obj-btn\"},\"Complete Habit\")));};export default ObjectiveCompleteForm;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/objective/ObjectiveCompleteForm.js"],"names":["React","useState","useContext","CreatureContext","ObjectiveCompleteForm","creature","objective","getExp","play","togglePlay","expUpdate","toggleExpUpdate","finish","time","setTime","handleChange","event","target","value","completeObjective","preventDefault","console","log","is_timed"],"mappings":"uMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,eAAT,KAAgC,gCAAhC,CAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,MAA6B,IAA1BC,CAAAA,QAA0B,MAA1BA,QAA0B,CAAhBC,SAAgB,MAAhBA,SAAgB,iBACgBJ,UAAU,CAACC,eAAD,CAD1B,CACjDI,MADiD,aACjDA,MADiD,CACzCC,IADyC,aACzCA,IADyC,CACnCC,UADmC,aACnCA,UADmC,CACvBC,SADuB,aACvBA,SADuB,CACZC,eADY,aACZA,eADY,CACKC,MADL,aACKA,MADL,eAGjCX,QAAQ,CAAC,CAAD,CAHyB,wCAGlDY,IAHkD,eAG5CC,OAH4C,eAKzD,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BF,OAAO,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAH,KAAK,CAAI,CACjCA,KAAK,CAACI,cAAN,GAEA,GAAI,CAACZ,IAAL,CAAWC,UAAU,GACrB,GAAI,CAACC,SAAL,CAAgBC,eAAe,GAE/BU,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAEA,GAAI,CAAChB,SAAS,CAACiB,QAAf,CAAyB,CACvBhB,MAAM,CAACD,SAAD,CAAY,CAAZ,CAAN,CACAM,MAAM,CAAC,UAAD,CAAaP,QAAb,CAAuB,OAAvB,CAAN,CACA,MAAOI,CAAAA,UAAU,EAAjB,CACD,CAEDF,MAAM,CAACF,QAAD,CAAWC,SAAX,CAAsBO,IAAtB,CAAN,CACAD,MAAM,CAAC,UAAD,CAAaP,QAAb,CAAuB,OAAvB,CAAN,CAEAI,UAAU,GACVK,OAAO,CAAC,CAAD,CAAP,CACD,CAnBD,CAqBA,GAAIR,SAAS,CAACiB,QAAd,CAAwB,CACtB,mBACE,2BAAK,SAAS,CAAC,wBAAf,eACE,4BAAM,QAAQ,CAAEJ,iBAAhB,CAAmC,SAAS,CAAC,mBAA7C,eACE,6BAAO,SAAS,CAAC,WAAjB,eADF,cAEE,6BACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEN,IAHT,CAIE,GAAG,CAAE,IAJP,CAKE,GAAG,CAAE,EALP,CAME,IAAI,CAAE,IANR,CAOE,QAAQ,CAAEE,YAPZ,CAQE,SAAS,CAAC,YARZ,CASE,WAAW,CAAE,CATf,EAFF,cAaE,8BAAQ,SAAS,CAAC,kBAAlB,mBAbF,CADF,CADF,CAmBD,CAED,mBACE,2BAAK,SAAS,CAAC,wBAAf,eACE,4BAAM,QAAQ,CAAEI,iBAAhB,CAAmC,SAAS,CAAC,mBAA7C,eACE,8BAAQ,SAAS,CAAC,kBAAlB,mBADF,CADF,CADF,CAOD,CA3DD,CA6DA,cAAef,CAAAA,qBAAf","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { CreatureContext } from '../../contexts/CreatureContext';\n\nconst ObjectiveCompleteForm = ({ creature, objective }) => {\n  const { getExp, play, togglePlay, expUpdate, toggleExpUpdate, finish } = useContext(CreatureContext);\n\n  const [time, setTime] = useState(0);\n\n  const handleChange = (event) => {\n    setTime(event.target.value);\n  }\n  \n  const completeObjective = event => {\n    event.preventDefault();\n\n    if (!play) togglePlay();\n    if (!expUpdate) toggleExpUpdate();\n\n    console.log('completing objective')\n\n    if (!objective.is_timed) {\n      getExp(objective, 1);\n      finish('creature', creature, 'stats');\n      return togglePlay();\n    }\n\n    getExp(creature, objective, time);\n    finish('creature', creature, 'stats');\n\n    togglePlay();\n    setTime(0);\n  }\n\n  if (objective.is_timed) {\n    return (\n      <div className=\"complete-obj-container\">\n        <form onSubmit={completeObjective} className=\"complete-obj-form\">\n          <label className=\"time-text\">Time (hrs)</label>\n          <input \n            type=\"number\"\n            name=\"time\"\n            value={time}\n            min={0.25}\n            max={24}\n            step={0.25}\n            onChange={handleChange}\n            className=\"time-input\"\n            placeholder={0}\n          />\n          <button className=\"complete-obj-btn\">Complete Habit</button>\n        </form>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"complete-obj-container\">\n      <form onSubmit={completeObjective} className=\"complete-obj-form\">\n        <button className=\"complete-obj-btn\">Complete Habit</button>\n      </form>\n    </div>\n  )\n}\n\nexport default ObjectiveCompleteForm;\n"]},"metadata":{},"sourceType":"module"}