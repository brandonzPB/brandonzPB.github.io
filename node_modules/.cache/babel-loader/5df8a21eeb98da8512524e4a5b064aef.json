{"ast":null,"code":"import _defineProperty from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{CreatureContext}from'../contexts/CreatureContext';import{v4 as uuidv4}from'uuid';import*as obj from'../modules/objective';var ObjectiveForm=function ObjectiveForm(_ref){var creatureId=_ref.creatureId;var _useContext=useContext(CreatureContext),dispatch=_useContext.dispatch,checkObjectiveText=_useContext.checkObjectiveText;var _useState=useState({id:uuidv4(),text:'',isTimed:false,difficulty:'Medium-Easy',factor:''}),_useState2=_slicedToArray(_useState,2),objective=_useState2[0],setObjective=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value,type=_event$target.type,checked=_event$target.checked;type==='checkbox'?setObjective(_objectSpread(_objectSpread({},objective),{},{isTimed:checked})):setObjective(_objectSpread(_objectSpread({},objective),{},_defineProperty({},name,value)));};var addObjective=function addObjective(event){event.preventDefault();if(!objective.text.trim())return;var objectiveExists=checkObjectiveText(creatureId,objective.text);if(objectiveExists)return;// error message\nvar factor=obj.getDifficultyFactor(objective.difficulty);dispatch({type:'ADD_OBJECTIVE',creatureId:creatureId,objective:{id:objective.id,text:objective.text,isTimed:objective.isTimed,difficulty:objective.difficulty,factor:factor}});setObjective({id:uuidv4(),text:'',isTimed:false,difficulty:'Medium-Easy'});};return/*#__PURE__*/React.createElement(\"div\",{className:\"objective-form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:addObjective},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"text\",value:objective.text,onChange:handleChange,minLength:0,maxLength:40,placeholder:\"Morning Cardio\",className:\"obj-text-input\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",name:\"isTimed\",checked:objective.isTimed,onChange:handleChange,className:\"obj-time-input\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"obj-time-input-text\"},\"Time-Based\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"obj-difficulty-select-text\"},\"Select Difficulty\"),/*#__PURE__*/React.createElement(\"select\",{value:objective.difficulty,onChange:handleChange,name:\"difficulty\",className:\"obj-difficulty-select\"},/*#__PURE__*/React.createElement(\"option\",{disabled:true},\"Select a Difficulty\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Medium-Easy\"},\"Medium-Easy\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Medium\"},\"Medium\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Medium-Hard\"},\"Medium-Hard\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Hard\"},\"Hard\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"add-obj-btn\"},\"Add Habit\")));};export default ObjectiveForm;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/ObjectiveForm.js"],"names":["React","useState","useContext","CreatureContext","v4","uuidv4","obj","ObjectiveForm","creatureId","dispatch","checkObjectiveText","id","text","isTimed","difficulty","factor","objective","setObjective","handleChange","event","target","name","value","type","checked","addObjective","preventDefault","trim","objectiveExists","getDifficultyFactor"],"mappings":"slBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,eAAT,KAAgC,6BAAhC,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,sBAArB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAoB,IAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,iBACCN,UAAU,CAACC,eAAD,CADX,CAChCM,QADgC,aAChCA,QADgC,CACtBC,kBADsB,aACtBA,kBADsB,eAGNT,QAAQ,CAAC,CACzCU,EAAE,CAAEN,MAAM,EAD+B,CAEzCO,IAAI,CAAE,EAFmC,CAGzCC,OAAO,CAAE,KAHgC,CAIzCC,UAAU,CAAE,aAJ6B,CAKzCC,MAAM,CAAE,EALiC,CAAD,CAHF,wCAGjCC,SAHiC,eAGtBC,YAHsB,eAWxC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,mBACSA,KAAK,CAACC,MADf,CACtBC,IADsB,eACtBA,IADsB,CAChBC,KADgB,eAChBA,KADgB,CACTC,IADS,eACTA,IADS,CACHC,OADG,eACHA,OADG,CAG9BD,IAAI,GAAK,UAAT,CACEN,YAAY,gCACPD,SADO,MAEVH,OAAO,CAAEW,OAFC,GADd,CAKEP,YAAY,gCACPD,SADO,wBAETK,IAFS,CAEFC,KAFE,GALd,CASD,CAZD,CAcA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,KAAD,CAAW,CAC9BA,KAAK,CAACO,cAAN,GAEA,GAAI,CAACV,SAAS,CAACJ,IAAV,CAAee,IAAf,EAAL,CAA4B,OAC5B,GAAMC,CAAAA,eAAe,CAAGlB,kBAAkB,CAACF,UAAD,CAAaQ,SAAS,CAACJ,IAAvB,CAA1C,CACA,GAAIgB,eAAJ,CAAqB,OACrB;AAEA,GAAMb,CAAAA,MAAM,CAAGT,GAAG,CAACuB,mBAAJ,CAAwBb,SAAS,CAACF,UAAlC,CAAf,CAEAL,QAAQ,CAAC,CACPc,IAAI,CAAE,eADC,CAEPf,UAAU,CAAVA,UAFO,CAGPQ,SAAS,CAAE,CACTL,EAAE,CAAEK,SAAS,CAACL,EADL,CAETC,IAAI,CAAEI,SAAS,CAACJ,IAFP,CAGTC,OAAO,CAAEG,SAAS,CAACH,OAHV,CAITC,UAAU,CAAEE,SAAS,CAACF,UAJb,CAKTC,MAAM,CAANA,MALS,CAHJ,CAAD,CAAR,CAYAE,YAAY,CAAC,CACXN,EAAE,CAAEN,MAAM,EADC,CAEXO,IAAI,CAAE,EAFK,CAGXC,OAAO,CAAE,KAHE,CAIXC,UAAU,CAAE,aAJD,CAAD,CAAZ,CAMD,CA5BD,CA8BA,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,4BAAM,QAAQ,CAAEW,YAAhB,eACE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAET,SAAS,CAACJ,IAHnB,CAIE,QAAQ,CAAEM,YAJZ,CAKE,SAAS,CAAE,CALb,CAME,SAAS,CAAE,EANb,CAOE,WAAW,CAAC,gBAPd,CAQE,SAAS,CAAC,gBARZ,EADF,cAWE,8BAXF,cAYE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,SAFP,CAGE,OAAO,CAAEF,SAAS,CAACH,OAHrB,CAIE,QAAQ,CAAEK,YAJZ,CAKE,SAAS,CAAC,gBALZ,EAZF,cAmBE,4BAAM,SAAS,CAAC,qBAAhB,eAnBF,cAoBE,8BApBF,cAqBE,4BAAM,SAAS,CAAC,4BAAhB,sBArBF,cAsBE,8BAAQ,KAAK,CAAEF,SAAS,CAACF,UAAzB,CAAqC,QAAQ,CAAEI,YAA/C,CAA6D,IAAI,CAAC,YAAlE,CAA+E,SAAS,CAAC,uBAAzF,eACE,8BAAQ,QAAQ,KAAhB,wBADF,cAEE,8BAAQ,KAAK,CAAC,aAAd,gBAFF,cAGE,8BAAQ,KAAK,CAAC,QAAd,WAHF,cAIE,8BAAQ,KAAK,CAAC,aAAd,gBAJF,cAKE,8BAAQ,KAAK,CAAC,MAAd,SALF,CAtBF,cA6BE,8BA7BF,cA8BE,8BAAQ,SAAS,CAAC,aAAlB,cA9BF,CADF,CADF,CAoCD,CA3FD,CA6FA,cAAeX,CAAAA,aAAf","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { CreatureContext } from '../contexts/CreatureContext';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as obj from '../modules/objective';\n\nconst ObjectiveForm = ({ creatureId }) => {\n  const { dispatch, checkObjectiveText } = useContext(CreatureContext);\n  \n  const [objective, setObjective] = useState({\n    id: uuidv4(),\n    text: '',\n    isTimed: false,\n    difficulty: 'Medium-Easy',\n    factor: '',\n  });\n\n  const handleChange = (event) => {\n    const { name, value, type, checked } = event.target;\n\n    type === 'checkbox' ?\n      setObjective({\n        ...objective,\n        isTimed: checked\n      }) :\n      setObjective({\n        ...objective,\n        [name]: value\n      });\n  }\n\n  const addObjective = (event) => {\n    event.preventDefault();\n\n    if (!objective.text.trim()) return;\n    const objectiveExists = checkObjectiveText(creatureId, objective.text);\n    if (objectiveExists) return;\n    // error message\n\n    const factor = obj.getDifficultyFactor(objective.difficulty);\n\n    dispatch({\n      type: 'ADD_OBJECTIVE', \n      creatureId,\n      objective: {\n        id: objective.id,\n        text: objective.text,\n        isTimed: objective.isTimed,\n        difficulty: objective.difficulty,\n        factor\n      }\n    });\n    \n    setObjective({\n      id: uuidv4(),\n      text: '',\n      isTimed: false,\n      difficulty: 'Medium-Easy',\n    })\n  }\n\n  return (\n    <div className=\"objective-form\">\n      <form onSubmit={addObjective}>\n        <input \n          type=\"text\"\n          name=\"text\"\n          value={objective.text}\n          onChange={handleChange}\n          minLength={0}\n          maxLength={40}\n          placeholder=\"Morning Cardio\"\n          className=\"obj-text-input\"\n        />\n        <br />\n        <input \n          type=\"checkbox\"\n          name=\"isTimed\"\n          checked={objective.isTimed}\n          onChange={handleChange}\n          className=\"obj-time-input\"\n        /> \n        <span className=\"obj-time-input-text\">Time-Based</span>\n        <br />\n        <span className=\"obj-difficulty-select-text\">Select Difficulty</span>\n        <select value={objective.difficulty} onChange={handleChange} name=\"difficulty\" className=\"obj-difficulty-select\">\n          <option disabled>Select a Difficulty</option>\n          <option value=\"Medium-Easy\">Medium-Easy</option>\n          <option value=\"Medium\">Medium</option>\n          <option value=\"Medium-Hard\">Medium-Hard</option>\n          <option value=\"Hard\">Hard</option>\n        </select>\n        <br />\n        <button className=\"add-obj-btn\">Add Habit</button>\n      </form>\n    </div>\n  )\n}\n\nexport default ObjectiveForm;\n"]},"metadata":{},"sourceType":"module"}