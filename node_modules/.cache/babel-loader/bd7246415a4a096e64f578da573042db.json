{"ast":null,"code":"import _toConsumableArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import pokemon from'pokemon';import React,{useState,useContext}from'react';import{Route,Redirect}from'react-router-dom';import{CreatureContext}from'../contexts/CreatureContext';import*as stats from'../modules/stats';import*as age from'../modules/age';import{Link}from'react-router-dom';import CreatureOption from'./CreatureOption';import{otherVersions}from'../modules/pokemonList';var CreatureForm=function CreatureForm(){var _useContext=useContext(CreatureContext),creatures=_useContext.creatures,formDisplay=_useContext.formDisplay,toggleFormDisplay=_useContext.toggleFormDisplay,dispatch=_useContext.dispatch;var pkmnArr=pokemon.all().sort(function(a,b){return a>b?1:a<b?-1:0;});var OptionComponents=pkmnArr.map(function(creature){return/*#__PURE__*/React.createElement(CreatureOption,{key:pokemon.getId(creature),creature:creature});});var _useState=useState({firstCreature:'',firstMega:'',secondCreature:'',secondMega:'',thirdCreature:'',thirdMega:'',fourthCreature:'',fourthMega:'',creatureName:'',purpose:'hobby',purposeName:''}),_useState2=_slicedToArray(_useState,2),creature=_useState2[0],setCreature=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setCreature(_objectSpread(_objectSpread({},creature),{},_defineProperty({},name,value)));};var getMegas=function getMegas(){var inputs=['first','second','third','fourth'];var selectedVersions=[];inputs.map(function(i){var versionInput=creature[\"\".concat(i,\"Mega\")].toLowerCase();if(!creature[\"\".concat(i,\"Mega\")].trim())return selectedVersions.push('normal');var creatureName=i==='first'?creature.firstCreature:i==='second'?creature.secondCreature:i==='third'?creature.thirdCreature:creature.fourthCreature;// get pokemon info from those that have other versions\nvar pkmnInfo=otherVersions.filter(function(pkmn){return pkmn.name===creatureName.toLowerCase();});if(!pkmnInfo[0].name)return selectedVersions.push('normal');// check if versionInput exists in the pokemon's versions\nvar version=pkmnInfo[0].versions.filter(function(v){return v===versionInput;});// if it does, length of version is greater than 0\nif(version.length>0){return selectedVersions.push(version);}return selectedVersions.push('normal');});return selectedVersions;};var putMegas=function putMegas(megas){var evolutionaryLine=[];for(var i=0;i<megas.length;i++){var place=i===0?'first':i===1?'second':i===2?'third':'fourth';var selectedVersion=megas[i]==='normal'?'':megas[i]==='none'?'':\"-\".concat(megas[i]);var creatureInput=place==='first'?'firstCreature':place==='second'?'secondCreature':place==='third'?'thirdCreature':'fourthCreature';var version=\"\".concat(creature[creatureInput]).concat(selectedVersion);evolutionaryLine.push(version.toLowerCase());}return evolutionaryLine;};var addCreature=function addCreature(event){event.preventDefault();var difficulty=stats.getCreatureDifficulty(creature.purpose,1);var multiplier=stats.getExpMultiplier(1);var megas=getMegas();var evolutions=putMegas(megas).map(function(item){if(!item.trim()){return'none';}return item;});console.log('evolutions',evolutions);var birthdate=age.getBirthdate();var birthTime=Date.now();var pokeballNumber=1;dispatch({type:'ADD_CREATURE',creature:{creature:evolutions[0],creatureName:creature.creatureName.trim()||'Anonymous Creature',purpose:creature.purpose,purposeName:creature.purposeName.trim()||'Base Existence',evolutionaryLine:_toConsumableArray(evolutions),difficulty:difficulty,multiplier:multiplier,birthdate:birthdate,birthTime:birthTime,pokeballNumber:pokeballNumber}});setCreature(_objectSpread(_objectSpread({},creature),{},{firstCreature:'',firstMega:'',secondCreature:'',secondMega:'',thirdCreature:'',thirdMega:'',fourthCreature:'',fourthMega:'',creatureName:'',purpose:'hobby',purposeName:''}));toggleFormDisplay();};if(creatures.length===6){return/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/create\"},/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}));}return/*#__PURE__*/React.createElement(\"div\",{className:\"create-page\"},!formDisplay?/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/create\"},\" \",/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}),\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"creature-form-container\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"button\",{className:\"return-btn\"},\"Return Home\")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:addCreature},/*#__PURE__*/React.createElement(\"h2\",{className:\"form-title\"},\"Design Your Creature!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"evo-label\"},/*#__PURE__*/React.createElement(\"label\",{className:\"evo-label-text\"},\"Creature Evolution Line\")),/*#__PURE__*/React.createElement(\"div\",{className:\"label-container\"},/*#__PURE__*/React.createElement(\"label\",{className:\"mega-input-text\"},\"Choose an alternate version\")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-inputs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"*First: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"firstCreature\",required:true,value:creature.firstCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.firstCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"firstMega\",value:creature.firstMega,onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Second: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"secondCreature\",value:creature.secondCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.secondCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"secondMega\",value:creature.secondMega,onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Third: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"thirdCreature\",value:creature.thirdCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.thirdCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"thirdMega\",value:creature.thirdMega,onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"creature-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Fourth: \")),/*#__PURE__*/React.createElement(\"div\",{className:\"creature-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-creature\",onChange:handleChange,name:\"fourthCreature\",value:creature.fourthCreature},/*#__PURE__*/React.createElement(\"option\",{disabled:true,defaultValue:true,value:\"\"},\"Select a Creature\"),OptionComponents)),/*#__PURE__*/React.createElement(\"div\",{className:\"mega-input\"},/*#__PURE__*/React.createElement(\"input\",{disabled:otherVersions.findIndex(function(pkmn){return pkmn.name===creature.fourthCreature.toLowerCase();})<0,type:\"text\",placeholder:\"none/mega/megaX/megaY\",className:\"mega\",name:\"fourthMega\",value:creature.fourthMega,onChange:handleChange})))),/*#__PURE__*/React.createElement(\"div\",{className:\"purpose-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"Which area of your life does this creature represent?\"),/*#__PURE__*/React.createElement(\"span\",{className:\"info\"},\"Determines difficulty\")),/*#__PURE__*/React.createElement(\"div\",{className:\"purpose-select\"},/*#__PURE__*/React.createElement(\"select\",{className:\"select-purpose\",onChange:handleChange,value:creature.purpose,name:\"purpose\"},/*#__PURE__*/React.createElement(\"option\",{value:\"hobby\"},\"Hobby (Medium-Easy)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"communication\"},\"Communication/Language (Medium)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"self-improvement\"},\"Self-Improvement (Medium-Hard)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"vocation\"},\"Vocation/Purpose (Hard)\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"name-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"What would you like to name this Creature of Habit?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"name-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Seneca\",name:\"creatureName\",value:creature.creatureName,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"title-label\"},/*#__PURE__*/React.createElement(\"label\",null,\"What title would you like to give \",creature.creatureName,\"?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"title-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Stoic\",name:\"purposeName\",value:creature.purposeName,onChange:handleChange})),/*#__PURE__*/React.createElement(\"button\",{className:\"submit-form-btn\"},\"Create Creature\")))));};export default CreatureForm;","map":{"version":3,"sources":["/home/brandonzpb/Documents/projects/custom/creatures-of-habit/creatures-frontend/src/components/CreatureForm.js"],"names":["pokemon","React","useState","useContext","Route","Redirect","CreatureContext","stats","age","Link","CreatureOption","otherVersions","CreatureForm","creatures","formDisplay","toggleFormDisplay","dispatch","pkmnArr","all","sort","a","b","OptionComponents","map","creature","getId","firstCreature","firstMega","secondCreature","secondMega","thirdCreature","thirdMega","fourthCreature","fourthMega","creatureName","purpose","purposeName","setCreature","handleChange","event","target","value","name","getMegas","inputs","selectedVersions","i","versionInput","toLowerCase","trim","push","pkmnInfo","filter","pkmn","version","versions","v","length","putMegas","megas","evolutionaryLine","place","selectedVersion","creatureInput","addCreature","preventDefault","difficulty","getCreatureDifficulty","multiplier","getExpMultiplier","evolutions","item","console","log","birthdate","getBirthdate","birthTime","Date","now","pokeballNumber","type","findIndex"],"mappings":"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","sourcesContent":["import pokemon from 'pokemon';\nimport React, { useState, useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { CreatureContext } from '../contexts/CreatureContext';\nimport * as stats from '../modules/stats';\nimport * as age from '../modules/age';\nimport { Link } from 'react-router-dom';\nimport CreatureOption from './CreatureOption';\nimport { otherVersions } from '../modules/pokemonList';\n\nconst CreatureForm = () => {\n  const { creatures, formDisplay, toggleFormDisplay, dispatch } = useContext(CreatureContext);\n\n  const pkmnArr = pokemon.all().sort((a, b) => {\n    return a > b ? 1 : \n      a < b ? -1 : 0;\n  });\n\n  const OptionComponents = pkmnArr.map(creature => {\n    return (\n      <CreatureOption \n        key={pokemon.getId(creature)}\n        creature={creature}\n      />\n    );\n  });\n\n  const [creature, setCreature] = useState({\n    firstCreature: '',\n    firstMega: '',\n    secondCreature: '',\n    secondMega: '',\n    thirdCreature: '',\n    thirdMega: '',\n    fourthCreature: '',\n    fourthMega: '',\n    creatureName: '',\n    purpose: 'hobby',\n    purposeName: ''\n  })\n\n  const handleChange = (event) => {\n    const { value, name } = event.target;\n\n    setCreature({\n      ...creature,\n      [name]: value\n    });\n  }\n\n  const getMegas = () => {\n    let inputs = ['first', 'second', 'third', 'fourth'];\n    let selectedVersions = [];\n\n    inputs.map(i => {\n      const versionInput = creature[`${i}Mega`].toLowerCase();\n\n      if (!creature[`${i}Mega`].trim()) return selectedVersions.push('normal');\n\n      const creatureName = i === 'first' ? creature.firstCreature\n          : i === 'second' ? creature.secondCreature\n          : i === 'third' ? creature.thirdCreature\n          : creature.fourthCreature;\n\n      // get pokemon info from those that have other versions\n      const pkmnInfo = otherVersions.filter(pkmn => pkmn.name === creatureName.toLowerCase());\n\n      if (!pkmnInfo[0].name) return selectedVersions.push('normal');\n      \n      // check if versionInput exists in the pokemon's versions\n      const version = pkmnInfo[0].versions.filter(v => v === versionInput);\n\n      // if it does, length of version is greater than 0\n      if (version.length > 0) {\n        return selectedVersions.push(version);\n      }\n\n      return selectedVersions.push('normal');\n    });\n\n    return selectedVersions;\n  }\n\n  const putMegas = megas => {\n    const evolutionaryLine = [];\n\n    for (let i = 0; i < megas.length; i++) {\n      const place = i === 0 ? 'first' :\n        i === 1 ? 'second' :\n        i === 2 ? 'third' :\n        'fourth';\n\n      const selectedVersion = megas[i] === 'normal' ? ''\n        : megas[i] === 'none' ? '' \n        : `-${megas[i]}`;\n\n      const creatureInput = place === 'first' ? 'firstCreature'\n        : place === 'second' ? 'secondCreature'\n        : place === 'third' ? 'thirdCreature'\n        : 'fourthCreature';\n\n      const version = `${creature[creatureInput]}${selectedVersion}`;\n\n      evolutionaryLine.push(version.toLowerCase());\n    }\n\n    return evolutionaryLine;\n  }\n\n  const addCreature = (event) => {\n    event.preventDefault();\n\n    const difficulty = stats.getCreatureDifficulty(creature.purpose, 1);\n    const multiplier = stats.getExpMultiplier(1);\n\n    const megas = getMegas();\n \n    const evolutions = putMegas(megas).map(item => {\n      if (!item.trim()) {\n        return 'none';\n      }\n\n      return item;\n    });\n\n    console.log('evolutions', evolutions);\n\n    const birthdate = age.getBirthdate();\n\n    const birthTime = Date.now();\n\n    const pokeballNumber = 1;\n\n    dispatch({type: 'ADD_CREATURE', creature: {\n      creature: evolutions[0],\n      creatureName: creature.creatureName.trim() || 'Anonymous Creature',\n      purpose: creature.purpose,\n      purposeName: creature.purposeName.trim() || 'Base Existence',\n      evolutionaryLine: [...evolutions],\n      difficulty,\n      multiplier,\n      birthdate,\n      birthTime,\n      pokeballNumber\n    }});\n    \n    setCreature({\n      ...creature,\n      firstCreature: '',\n      firstMega: '',\n      secondCreature: '',\n      secondMega: '',\n      thirdCreature: '',\n      thirdMega: '',\n      fourthCreature: '',\n      fourthMega: '',\n      creatureName: '',\n      purpose: 'hobby',\n      purposeName: ''\n    });\n\n    toggleFormDisplay();\n  }\n  \n  \n  if (creatures.length === 6) {\n    return (\n      <Route exact path=\"/create\">\n        <Redirect to=\"/\" />\n      </Route>\n    )\n  }\n\n  return (\n    <div className=\"create-page\">\n      {\n        !formDisplay ? <Route exact path=\"/create\"> <Redirect to=\"/\" /> </Route> :\n        <div className=\"creature-form-container\">\n          <Link to=\"/\"><button className=\"return-btn\">Return Home</button></Link>\n          \n          <div className=\"creature-form\">\n            <form onSubmit={addCreature}>\n              <h2 className=\"form-title\">Design Your Creature!</h2>\n\n              <div className=\"evo-label\">\n                <label className=\"evo-label-text\">Creature Evolution Line</label>\n              </div>\n\n              <div className=\"label-container\">\n                <label className=\"mega-input-text\">Choose an alternate version</label>\n              </div>\n\n              <div className=\"creature-inputs\">\n\n                <div className=\"creature-input\">\n                  <div className=\"creature-label\">\n                    <label>*First: </label>\n                  </div>\n\n                  <div className=\"creature-select\">\n                    <select\n                      className=\"select-creature\"\n                      onChange={handleChange}\n                      name=\"firstCreature\"\n                      required={true}\n                      value={creature.firstCreature}\n                    >\n                      <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                      {OptionComponents}\n                    </select>\n                  </div>\n\n                  <div className=\"mega-input\">\n                      <input \n                        disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.firstCreature.toLowerCase()) < 0 }\n                        type=\"text\"\n                        placeholder=\"none/mega/megaX/megaY\"\n                        className=\"mega\"\n                        name=\"firstMega\"\n                        value={creature.firstMega}\n                        onChange={handleChange}\n                      />\n                  </div>\n                </div>\n\n                <div className=\"creature-input\">\n                  <div className=\"creature-label\">\n                    <label>Second: </label>\n                  </div>\n\n                  <div className=\"creature-select\">\n                    <select\n                      className=\"select-creature\"\n                      onChange={handleChange}\n                      name=\"secondCreature\"\n                      value={creature.secondCreature}\n                    >\n                      <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                      {OptionComponents}\n                    </select>\n                  </div>\n\n                  <div className=\"mega-input\">\n                    <input \n                      disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.secondCreature.toLowerCase()) < 0 }\n                      type=\"text\"\n                      placeholder=\"none/mega/megaX/megaY\"\n                      className=\"mega\"\n                      name=\"secondMega\"\n                      value={creature.secondMega}\n                      onChange={handleChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"creature-input\">\n                  <div className=\"creature-label\">\n                    <label>Third: </label>\n                  </div>\n\n                  <div className=\"creature-select\">\n                    <select\n                      className=\"select-creature\"\n                      onChange={handleChange}\n                      name=\"thirdCreature\"\n                      value={creature.thirdCreature}\n                    >\n                      <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                      {OptionComponents}\n                    </select>\n                  </div>\n\n                  <div className=\"mega-input\">\n                    <input\n                      disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.thirdCreature.toLowerCase()) < 0 }\n                      type=\"text\"\n                      placeholder=\"none/mega/megaX/megaY\"\n                      className=\"mega\"\n                      name=\"thirdMega\"\n                      value={creature.thirdMega}\n                      onChange={handleChange}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"creature-input\">\n                  <div className=\"creature-label\">\n                    <label>Fourth: </label>\n                  </div>\n\n                  <div className=\"creature-select\">\n                    <select\n                      className=\"select-creature\"\n                      onChange={handleChange}\n                      name=\"fourthCreature\"\n                      value={creature.fourthCreature}\n                    >\n                      <option disabled={true} defaultValue={true} value=\"\">Select a Creature</option>\n                      {OptionComponents}\n                    </select>\n                  </div>\n\n                  <div className=\"mega-input\">\n                    <input \n                      disabled={ otherVersions.findIndex(pkmn => pkmn.name === creature.fourthCreature.toLowerCase()) < 0 }\n                      type=\"text\"\n                      placeholder=\"none/mega/megaX/megaY\"\n                      className=\"mega\"\n                      name=\"fourthMega\"\n                      value={creature.fourthMega}\n                      onChange={handleChange}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"purpose-label\">\n                <label>Which area of your life does this creature represent?</label>\n                <span className=\"info\">Determines difficulty</span>\n              </div>\n              <div className=\"purpose-select\">\n                <select className=\"select-purpose\" onChange={handleChange} value={creature.purpose} name=\"purpose\">\n                  <option value=\"hobby\">Hobby (Medium-Easy)</option>\n                  <option value=\"communication\">Communication/Language (Medium)</option>\n                  <option value=\"self-improvement\">Self-Improvement (Medium-Hard)</option>\n                  <option value=\"vocation\">Vocation/Purpose (Hard)</option>\n                </select>\n              </div>\n\n              <div className=\"name-label\">\n                <label>What would you like to name this Creature of Habit?</label>\n              </div>\n              <div className=\"name-input\">\n                <input \n                  type=\"text\"\n                  placeholder=\"Seneca\"\n                  name=\"creatureName\"\n                  value={creature.creatureName}\n                  onChange={handleChange}\n                />\n              </div>\n\n              <div className=\"title-label\">\n                <label>What title would you like to give {creature.creatureName}?</label>\n              </div>\n              <div className=\"title-input\">\n                <input \n                  type=\"text\"\n                  placeholder=\"Stoic\"\n                  name=\"purposeName\"\n                  value={creature.purposeName}\n                  onChange={handleChange}\n                />\n              </div>\n              <button className=\"submit-form-btn\">Create Creature</button>\n            </form>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default CreatureForm;\n"]},"metadata":{},"sourceType":"module"}